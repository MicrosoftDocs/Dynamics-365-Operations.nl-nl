---
title: Formuleontwerper in elektronische rapportage (ER)
description: Dit onderwerp biedt algemene informatie over het gebruik van de formuleontwerper in ER (Elektronische rapportage).
author: NickSelin
manager: kfend
ms.date: 12/05/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 14539ed6c00915b7d59a5a3c4870ab6d1a96ad95
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 02/01/2020
ms.locfileid: "3002515"
---
# <a name="formula-designer-in-electronic-reporting-er"></a><span data-ttu-id="b88d1-103">Formuleontwerper in elektronische rapportage (ER)</span><span class="sxs-lookup"><span data-stu-id="b88d1-103">Formula designer in Electronic reporting (ER)</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="b88d1-104">In dit onderwerp wordt beschreven hoe de formuleontwerper in elektronische rapportage (ER) wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-104">This topic explains how to use the formula designer in Electronic reporting (ER).</span></span> <span data-ttu-id="b88d1-105">Wanneer u een indeling voor een specifiek elektronisch document in ER ontwerpt, kunt u formules gebruiken om gegevens te transformeren om te voldoen aan de vereisten voor de afhandeling en opmaak van het document.</span><span class="sxs-lookup"><span data-stu-id="b88d1-105">When you design a format for a specific electronic document in ER, you can use formulas to transform data so that it meets the requirements for the document's fulfillment and formatting.</span></span> <span data-ttu-id="b88d1-106">Deze formules lijken op formules in Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="b88d1-106">These formulas resemble formulas in Microsoft Excel.</span></span> <span data-ttu-id="b88d1-107">Er worden diverse typen functies ondersteund in de formules: tekst, datum en tijd, wiskundig, logisch, informatie, gegevenstypeconversie en andere functies (specifiek voor het zakelijke domein).</span><span class="sxs-lookup"><span data-stu-id="b88d1-107">Various types of functions are supported in the formulas: text, date and time, mathematical, logical, information, and data type conversion functions, and also other, business domain–specific functions.</span></span>

## <a name="formula-designer-overview"></a><span data-ttu-id="b88d1-108">Overzicht van formuleontwerper</span><span class="sxs-lookup"><span data-stu-id="b88d1-108">Formula designer overview</span></span>

<span data-ttu-id="b88d1-109">ER ondersteunt de Formuleontwerper.</span><span class="sxs-lookup"><span data-stu-id="b88d1-109">ER supports the formula designer.</span></span> <span data-ttu-id="b88d1-110">Daarom kunt u tijdens het ontwerpen expressies configureren die kunnen worden gebruikt voor de volgende taken in runtime:</span><span class="sxs-lookup"><span data-stu-id="b88d1-110">Therefore, at design time, you can configure expressions that can be used for the following tasks at runtime:</span></span>

- <span data-ttu-id="b88d1-111">Het transformeren van gegevens die zijn ontvangen van een toepassingsdatabase en die moeten worden ingevoerd in een ER-gegevensmodel dat is ontworpen als een gegevensbron voor ER-indelingen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-111">Transform data that is received from an application database and that should be entered in an ER data model that is designed to be a data source for ER formats.</span></span> <span data-ttu-id="b88d1-112">(Deze transformaties kunnen bijvoorbeeld filteren, groeperen en conversie van gegevenstype omvatten.)</span><span class="sxs-lookup"><span data-stu-id="b88d1-112">(For example, these transformations might include filtering, grouping, and data type conversion.)</span></span>
- <span data-ttu-id="b88d1-113">Gegevens opmaken die moet worden verzonden naar een genererend elektronisch document conform de indeling en de voorwaarden van een specifieke ER-indeling.</span><span class="sxs-lookup"><span data-stu-id="b88d1-113">Format data that must be sent to a generating electronic document in accordance with the layout and conditions of a specific ER format.</span></span> <span data-ttu-id="b88d1-114">(Bijvoorbeeld de opmaak kan worden uitgevoerd in overeenstemming met de aangevraagde taal of cultuur, of de codering.)</span><span class="sxs-lookup"><span data-stu-id="b88d1-114">(For example, the formatting might be done in accordance with the requested language or culture, or the encoding).</span></span>
- <span data-ttu-id="b88d1-115">Het proces van het maken van elektronische documenten beheren.</span><span class="sxs-lookup"><span data-stu-id="b88d1-115">Control the process of creating electronic documents.</span></span> <span data-ttu-id="b88d1-116">(Bijvoorbeeld de expressies kunnen de uitvoer van specifieke elementen van de indeling inschakelen of uitschakelen, afhankelijk van de verwerking van gegevens.</span><span class="sxs-lookup"><span data-stu-id="b88d1-116">(For example, the expressions can enable or disable the output of specific elements of the format, depending on processing data.</span></span> <span data-ttu-id="b88d1-117">Ze kunnen ook het proces voor het maken van documenten onderbreken of berichten aan gebruikers tonen.)</span><span class="sxs-lookup"><span data-stu-id="b88d1-117">They can also interrupt the document creation process or throw messages to users.)</span></span>

<span data-ttu-id="b88d1-118">U kunt de pagina **Formuleontwerper** openen wanneer u een van de volgende handelingen uitvoert:</span><span class="sxs-lookup"><span data-stu-id="b88d1-118">You can open the **Formula designer** page when you perform any of the following actions:</span></span>

- <span data-ttu-id="b88d1-119">De binding van gegevensbronartikelen aan gegevensmodelonderdelen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-119">Bind data source items to data model components.</span></span>
- <span data-ttu-id="b88d1-120">De binding van gegevensbronartikelen aan indelingsonderdelen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-120">Bind data source items to format components.</span></span>
- <span data-ttu-id="b88d1-121">Het onderhoud van berekende velden die deel uitmaken van gegevensbronnen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-121">Complete maintenance of calculated fields that are part of data sources.</span></span>
- <span data-ttu-id="b88d1-122">De definitie van zichtbaarheidvoorwaarden voor gebruikersinvoerparameters.</span><span class="sxs-lookup"><span data-stu-id="b88d1-122">Define the visibility conditions for user input parameters.</span></span>
- <span data-ttu-id="b88d1-123">Het ontwerp van transformaties van de indeling.</span><span class="sxs-lookup"><span data-stu-id="b88d1-123">Design a format's transformations.</span></span>
- <span data-ttu-id="b88d1-124">De definitie van voorwaarden voor het inschakelen van de indelingsonderdelen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-124">Define the enabling conditions for the format's components.</span></span>
- <span data-ttu-id="b88d1-125">De definitie van bestandsnamen voor de bestandsonderdelen van de indeling.</span><span class="sxs-lookup"><span data-stu-id="b88d1-125">Define the file names for the format's FILE components.</span></span>
- <span data-ttu-id="b88d1-126">De definitie van de voorwaarden voor procescontrolevalidaties.</span><span class="sxs-lookup"><span data-stu-id="b88d1-126">Define the conditions for process control validations.</span></span>
- <span data-ttu-id="b88d1-127">De definitie van de berichttekst voor procescontrolevalidaties.</span><span class="sxs-lookup"><span data-stu-id="b88d1-127">Define the message text for process control validations.</span></span>

## <a name="Binding"></a><span data-ttu-id="b88d1-128">Gegevensbinding</span><span class="sxs-lookup"><span data-stu-id="b88d1-128">Data binding</span></span>

<span data-ttu-id="b88d1-129">De ER-formuleontwerper kan worden gebruikt om een expressie te definiëren voor de transformatie van gegevens die worden ontvangen van gegevensbronnen, zodat de gegevens tijdens runtime op de volgende manieren in de gegevensconsument kunnen worden ingevoerd:</span><span class="sxs-lookup"><span data-stu-id="b88d1-129">The ER formula designer can be used to define an expression that transforms data that is received from data sources, so that the data can be entered in the data consumer in the following ways at runtime:</span></span>

- <span data-ttu-id="b88d1-130">Vanuit toepassingsgegevensbronnen en uitvoeringsparameters naar een ER-gegevensmodel</span><span class="sxs-lookup"><span data-stu-id="b88d1-130">From application data sources and runtime parameters to an ER data model</span></span>
- <span data-ttu-id="b88d1-131">Vanuit een ER-gegevensmodel naar een ER-indeling</span><span class="sxs-lookup"><span data-stu-id="b88d1-131">From an ER data model to an ER format</span></span>
- <span data-ttu-id="b88d1-132">Vanuit toepassingsgegevensbronnen en uitvoeringsparameters naar een ER-indeling</span><span class="sxs-lookup"><span data-stu-id="b88d1-132">From application data sources and runtime parameters to an ER format</span></span>

<span data-ttu-id="b88d1-133">De volgende afbeelding toont het ontwerp van een expressie van dit type.</span><span class="sxs-lookup"><span data-stu-id="b88d1-133">The following illustration shows the design of an expression of this type.</span></span> <span data-ttu-id="b88d1-134">In dit voorbeeld rondt de expressie de waarde van het veld **Intrastat.AmountMST** in de Intrastat-tabel af op twee decimalen en wordt de afgeronde waarde geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="b88d1-134">In this example, the expression rounds the value of the **Intrastat.AmountMST** field in the Intrastat table to two decimal places and then returns the rounded value.</span></span>

<span data-ttu-id="b88d1-135">[![De expressie Gegevensbinding](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-135">[![Data binding expression](./media/picture-expression-binding.jpg)](./media/picture-expression-binding.jpg)</span></span>

<span data-ttu-id="b88d1-136">De volgende afbeelding toont hoe een expressie van dit type kan worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-136">The following illustration shows how an expression of this type can be used.</span></span> <span data-ttu-id="b88d1-137">In dit voorbeeld wordt het resultaat van de ontworpen expressie ingevoerd in het onderdeel **Transaction.InvoicedAmount** van het gegevensmodel **Belastingrapportagemodel**.</span><span class="sxs-lookup"><span data-stu-id="b88d1-137">In this example, the result of the designed expression is entered in the **Transaction.InvoicedAmount** component of the **Tax reporting model** data model.</span></span>

<span data-ttu-id="b88d1-138">[![De expressie Gegevensbinding wordt gebruikt](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-138">[![Data binding expression being used](./media/picture-expression-binding2.jpg)](./media/picture-expression-binding2.jpg)</span></span>

<span data-ttu-id="b88d1-139">Tijdens runtime rondt de ontworpen formule, `ROUND (Intrastat.AmountMST, 2)`, de waarde van het veld **AmountMST** voor elke record in de Intrastat-tabel af op twee decimalen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-139">At runtime, the designed formula, `ROUND (Intrastat.AmountMST, 2)`, rounds the value of the **AmountMST** field for each record in the Intrastat table to two decimal places.</span></span> <span data-ttu-id="b88d1-140">Vervolgens wordt de afgeronde waarde ingevoerd in het onderdeel **Transaction.InvoicedAmount** van het gegevensmodel **Btw-aangifte**.</span><span class="sxs-lookup"><span data-stu-id="b88d1-140">It then enters the rounded value in the **Transaction.InvoicedAmount** component of the **Tax reporting** data model.</span></span>

## <a name="Transformation"></a><span data-ttu-id="b88d1-141">Gegevensnotatie</span><span class="sxs-lookup"><span data-stu-id="b88d1-141">Data formatting</span></span>

<span data-ttu-id="b88d1-142">De ER-formuleontwerper kan worden gebruikt om een expressie te definiëren voor de opmaak van gegevens die worden ontvangen van gegevensbronnen, zodat de gegevens kunnen worden verzonden als onderdeel van het genererende elektronische document.</span><span class="sxs-lookup"><span data-stu-id="b88d1-142">The ER formula designer can be used to define an expression that formats data that is received from data sources, so that the data can be sent as part of the generating electronic document.</span></span> <span data-ttu-id="b88d1-143">U hebt wellicht opmaak die moet worden toegepast als een normale regel die opnieuw moet worden gebruikt voor een indeling.</span><span class="sxs-lookup"><span data-stu-id="b88d1-143">You might have formatting that must be applied as a typical rule that should be reused for a format.</span></span> <span data-ttu-id="b88d1-144">U kunt in dit geval die opmaak één keer in de indelingsconfiguratie introduceren als een benoemde transformatie die een opmaakexpressie heeft.</span><span class="sxs-lookup"><span data-stu-id="b88d1-144">In this case, you can introduce that formatting one time in the format configuration, as a named transformation that has a formatting expression.</span></span> <span data-ttu-id="b88d1-145">Deze benoemde transformatie kan vervolgens worden gekoppeld aan vele indelingscomponenten waarvan de uitvoer moet worden opgemaakt volgens de opmaakexpressie die u hebt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-145">This named transformation can then be linked to many format components where the output must be formatted according to the formatting expression that you created.</span></span>

<span data-ttu-id="b88d1-146">De volgende afbeelding toont het ontwerp van een transformatie van dit type.</span><span class="sxs-lookup"><span data-stu-id="b88d1-146">The following illustration shows the design of a transformation of this type.</span></span> <span data-ttu-id="b88d1-147">In dit voorbeeld kapt de transformatie **TrimmedString** inkomende gegevens van het gegevenstype *Tekenreeks* af door spaties vooraan en achteraan te verwijderen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-147">In this example, the **TrimmedString** transformation truncates incoming data of the *String* data type by removing leading and trailing spaces.</span></span> <span data-ttu-id="b88d1-148">Vervolgens wordt de afgekapte waarde geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="b88d1-148">It then returns the truncated string value.</span></span>

<span data-ttu-id="b88d1-149">[![Transformatie](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-149">[![Transformation](./media/picture-transformation-design.jpg)](./media/picture-transformation-design.jpg)</span></span>

<span data-ttu-id="b88d1-150">De volgende afbeelding toont hoe een transformatie van dit type kan worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-150">The following illustration shows how a transformation of this type can be used.</span></span> <span data-ttu-id="b88d1-151">In dit voorbeeld wordt met verschillende opmaakonderdelen tijdens runtime tekst als uitvoer verzonden naar het genererende elektronische document.</span><span class="sxs-lookup"><span data-stu-id="b88d1-151">In this example, several format components send text as output to the generating electronic document at runtime.</span></span> <span data-ttu-id="b88d1-152">Alle opmaakonderdelen verwijzen bij naam naar de transformatie **TrimmedString**.</span><span class="sxs-lookup"><span data-stu-id="b88d1-152">All these format components refer to the **TrimmedString** transformation by name.</span></span>

<span data-ttu-id="b88d1-153">[![Transformatie wordt gebruikt](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-153">[![Transformation being used](./media/picture-transformation-usage.jpg)](./media/picture-transformation-usage.jpg)</span></span>

<span data-ttu-id="b88d1-154">Wanneer indelingsonderdelen, zoals het onderdeel **partyName** in de vorige illustratie, verwijzen naar de transformatie **TrimmedString**, verzendt de transformatie tekst als uitvoer naar het genererende elektronische document.</span><span class="sxs-lookup"><span data-stu-id="b88d1-154">When format components, such as the **partyName** component in the preceding illustration, refer to the **TrimmedString** transformation, the transformation sends text as output to the generating electronic document.</span></span> <span data-ttu-id="b88d1-155">Deze tekst bevat geen spaties vooraan en achteraan.</span><span class="sxs-lookup"><span data-stu-id="b88d1-155">This text doesn't include leading and trailing spaces.</span></span>

<span data-ttu-id="b88d1-156">Als u een opmaak hebt die afzonderlijk moet worden toegepast, kan deze opmaak als een afzonderlijke expressie van een binding van een specifieke indelingscomponent worden geïntroduceerd.</span><span class="sxs-lookup"><span data-stu-id="b88d1-156">If you have formatting that must be applied individually, you can introduce that formatting as an individual expression of a binding of a specific format component.</span></span> <span data-ttu-id="b88d1-157">De volgende afbeelding toont een expressie van dit type.</span><span class="sxs-lookup"><span data-stu-id="b88d1-157">The following illustration shows an expression of this type.</span></span> <span data-ttu-id="b88d1-158">In dit voorbeeld is het indelingsonderdeel **partyType** gebonden aan de gegevensbron via een expressie waarmee inkomende gegevens vanuit het veld **Model.Company.RegistrationType** in de gegevensbron worden geconverteerd naar tekst in hoofdletters.</span><span class="sxs-lookup"><span data-stu-id="b88d1-158">In this example, the **partyType** format component is bound to the data source via an expression that converts incoming data from the **Model.Company.RegistrationType** field in the data source to uppercase text.</span></span> <span data-ttu-id="b88d1-159">Vervolgens wordt die tekst als uitvoer verzonden naar het elektronische document.</span><span class="sxs-lookup"><span data-stu-id="b88d1-159">The expression then sends that text as output to the electronic document.</span></span>

<span data-ttu-id="b88d1-160">[![Opmaak toepassen op een afzonderlijke component](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-160">[![Applying formatting to an individual component](./media/picture-binding-with-formula.jpg)](./media/picture-binding-with-formula.jpg)</span></span>

## <a name="Validation"></a><span data-ttu-id="b88d1-161">Processtroombeheer</span><span class="sxs-lookup"><span data-stu-id="b88d1-161">Process flow control</span></span>

<span data-ttu-id="b88d1-162">De ER-formuleontwerper kan worden gebruikt om expressies te definiëren die de processtroom beheren voor het genereren van elektronische documenten.</span><span class="sxs-lookup"><span data-stu-id="b88d1-162">The ER formula designer can be used to define expressions that control the process flow of generating electronic documents.</span></span> <span data-ttu-id="b88d1-163">U kunt de volgende taken uitvoeren:</span><span class="sxs-lookup"><span data-stu-id="b88d1-163">You can perform the following tasks:</span></span>

- <span data-ttu-id="b88d1-164">Definieer voorwaarden die bepalen wanneer het maken van een document moet worden gestopt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-164">Define conditions that determine when a document creation process must be stopped.</span></span>
- <span data-ttu-id="b88d1-165">Geef expressies op waarmee berichten voor gebruikers over gestopte processen of uitvoeringslogboekberichten over het voortzetten van het genereren van rapporten worden gemaakt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-165">Specify expressions that either create messages for the user about stopped processes or throw execution log messages about the continuing process of report generation.</span></span>
- <span data-ttu-id="b88d1-166">Geef de bestandsnamen op van genererende elektronische documenten en beheer de voorwaarden voor het maken hiervan.</span><span class="sxs-lookup"><span data-stu-id="b88d1-166">Specify the file names of generating electronic documents, and control the conditions of their creation.</span></span>

<span data-ttu-id="b88d1-167">Elke regel van het processtroombeheer is ontworpen als afzonderlijke validatie.</span><span class="sxs-lookup"><span data-stu-id="b88d1-167">Each rule of the process flow control is designed as an individual validation.</span></span> <span data-ttu-id="b88d1-168">De volgende afbeelding toont een validatie van dit type.</span><span class="sxs-lookup"><span data-stu-id="b88d1-168">The following illustration shows a validation of this type.</span></span> <span data-ttu-id="b88d1-169">Hier volgt een uitleg van de configuratie in dit voorbeeld:</span><span class="sxs-lookup"><span data-stu-id="b88d1-169">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="b88d1-170">De validatie wordt geëvalueerd als het knooppunt **INSTAT** tijdens het genereren van het XML-bestand wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-170">The validation is evaluated when the **INSTAT** node is created during generation of the XML file.</span></span>
- <span data-ttu-id="b88d1-171">Als de lijst met transacties leeg is, stopt de validatie het uitvoeringsproces en retourneert **FALSE**.</span><span class="sxs-lookup"><span data-stu-id="b88d1-171">If the list of transactions is empty, the validation stops the execution process and returns **FALSE**.</span></span>
- <span data-ttu-id="b88d1-172">De validatie retourneert een foutbericht dat de tekst van label SYS70894 bevat in de voorkeurstaal van de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="b88d1-172">The validation returns an error message that includes the text of label SYS70894 in the user's preferred language.</span></span>

<span data-ttu-id="b88d1-173">[![Validatie](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-173">[![Validation](./media/picture-validation.jpg)](./media/picture-validation.jpg)</span></span>

<span data-ttu-id="b88d1-174">De ER-formuleontwerper kan ook worden gebruikt om een bestandsnaam te genereren voor een genererend elektronisch document en om het proces voor het maken van bestanden te beheren.</span><span class="sxs-lookup"><span data-stu-id="b88d1-174">The ER formula designer can also be used to generate a file name for a generating electronic document and to control the file creation process.</span></span> <span data-ttu-id="b88d1-175">De volgende afbeelding toont het ontwerp van een processtroombesturingselement van dit type.</span><span class="sxs-lookup"><span data-stu-id="b88d1-175">The following illustration shows the design of a process flow control of this type.</span></span> <span data-ttu-id="b88d1-176">Hier volgt een uitleg van de configuratie in dit voorbeeld:</span><span class="sxs-lookup"><span data-stu-id="b88d1-176">Here is an explanation of the configuration in this example:</span></span>

- <span data-ttu-id="b88d1-177">De lijst met records uit de gegevensbron **model.Intrastat** is verdeeld in batches.</span><span class="sxs-lookup"><span data-stu-id="b88d1-177">The list of records from the **model.Intrastat** data source is divided into batches.</span></span> <span data-ttu-id="b88d1-178">Elke batch bevat maximaal 1000 records.</span><span class="sxs-lookup"><span data-stu-id="b88d1-178">Each batch contains up to 1,000 records.</span></span>
- <span data-ttu-id="b88d1-179">De uitvoer maakt een zipbestand dat een bestand in XML-indeling bevat voor elke batch die is gemaakt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-179">The output creates a zip file that contains one file in XML format for every batch that was created.</span></span>
- <span data-ttu-id="b88d1-180">Een expressie retourneert een bestandsnaam voor genererende elektronische documenten door de bestandsnaam en bestandsextensie aaneen te schakelen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-180">An expression returns a file name for generating electronic documents by concatenating the file name and the file name extension.</span></span> <span data-ttu-id="b88d1-181">Voor de tweede en alle volgende batches bevat de bestandsnaam de batch-id als achtervoegsel.</span><span class="sxs-lookup"><span data-stu-id="b88d1-181">For the second batch and all subsequent batches, the file name contains the batch ID as a suffix.</span></span>
- <span data-ttu-id="b88d1-182">Een expressie activeert (door **TRUE** te retourneren) het maken van een bestand voor batches die ten minste één record bevatten.</span><span class="sxs-lookup"><span data-stu-id="b88d1-182">An expression enables (by returning **TRUE**) the file creation process for batches that contain at least one record.</span></span>

<span data-ttu-id="b88d1-183">[![Processtroombeheer](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span><span class="sxs-lookup"><span data-stu-id="b88d1-183">[![Process flow control](./media/picture-file-control.jpg)](./media/picture-file-control.jpg)</span></span>

## <a name="Enabled"></a><span data-ttu-id="b88d1-184">Besturingselement voor documentinhoud</span><span class="sxs-lookup"><span data-stu-id="b88d1-184">Document content control</span></span>

<span data-ttu-id="b88d1-185">U kunt de ER-formuleontwerper gebruiken om expressies te configureren die bepalen welke gegevens tijdens runtime in gegenereerde elektronische documenten worden geplaatst.</span><span class="sxs-lookup"><span data-stu-id="b88d1-185">The ER formula designer can be used to configure expressions that control what data will be put into generated electronic documents at runtime.</span></span> <span data-ttu-id="b88d1-186">De expressies kunnen de uitvoer van specifieke elementen van de indeling inschakelen of uitschakelen, afhankelijk van de verwerking van gegevens en de geconfigureerde logica.</span><span class="sxs-lookup"><span data-stu-id="b88d1-186">The expressions can enable or disable the output of specific elements of the format, depending on processing data and configured logic.</span></span> <span data-ttu-id="b88d1-187">Deze expressies kunnen worden ingevoerd voor één opmaakelement in het veld **Ingeschakeld** op het tabblad **Toewijzing** van de pagina **Operations-ontwerper**.</span><span class="sxs-lookup"><span data-stu-id="b88d1-187">These expressions can be entered for a single format element in the **Enabled** field on the **Mapping** tab of the **Operations designer** page.</span></span> <span data-ttu-id="b88d1-188">U de expressies invoeren als een logische voorwaarde die een *Booleaanse* waarde retourneert:</span><span class="sxs-lookup"><span data-stu-id="b88d1-188">You can enter the expressions as a logic condition that returns a *Boolean* value:</span></span>

- <span data-ttu-id="b88d1-189">Als de voorwaarde **True** retourneert, wordt het huidige indelingselement uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="b88d1-189">If the condition returns **True**, the current format element is run.</span></span>
- <span data-ttu-id="b88d1-190">Als de voorwaarde **False** retourneert, wordt het huidige indelingselement overgeslagen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-190">If the condition returns **False**, the current format element is skipped.</span></span>

<span data-ttu-id="b88d1-191">De volgende afbeelding toont expressies van dit type.</span><span class="sxs-lookup"><span data-stu-id="b88d1-191">The following illustration shows expressions of this type.</span></span> <span data-ttu-id="b88d1-192">(Versie 11.12.11 van de **ISO20022-indelingsconfiguratie voor kredietoverdrachtbetalingen (NO)** die wordt geleverd door Microsoft wordt gebruikt als voorbeeld.) Het indelingsonderdeel **XMLHeader** is zo geconfigureerd dat de structuur van het bericht over de kredietoverdracht wordt beschreven volgens de norm ISO 20022 XML-berichtstandaarden.</span><span class="sxs-lookup"><span data-stu-id="b88d1-192">(Version 11.12.11 of the **ISO20022 Credit transfer (NO)** format configuration that is provided by Microsoft is used as an example.) The **XMLHeader** format component is configured to describe the structure of the credit transfer message according to the ISO 20022 XML message standards.</span></span> <span data-ttu-id="b88d1-193">De indelingsonderdeel **XMLHeader/Document/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd** is geconfigureerd om het XML-element **Ustrd** toe te voegen aan het gegenereerde bericht, en de remisegegevens in een niet-gestructureerde indeling te plaatsen als tekst van de volgende XML-elementen:</span><span class="sxs-lookup"><span data-stu-id="b88d1-193">The **XMLHeader/Document/CstmrCdtTrfInitn/PmtInf/CdtTrfTxInf/RmtInf/Ustrd** format component is configured to add the **Ustrd** XML element to the generated message and to put the remittance information in an unstructured format as text of the following XML elements:</span></span>

- <span data-ttu-id="b88d1-194">Het onderdeel **PaymentNotes** wordt gebruikt om de tekst van betalingsnotities te genereren.</span><span class="sxs-lookup"><span data-stu-id="b88d1-194">The **PaymentNotes** component is used to generate the text of payment notes.</span></span>
- <span data-ttu-id="b88d1-195">Het onderdeel **DelimitedSequence** genereert door komma's gescheiden factuurnummers die worden gebruikt om de huidige kredietoverdracht te vereffenen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-195">The **DelimitedSequence** component generates comma-separated invoice numbers that are used to settle the current credit transfer.</span></span>

<span data-ttu-id="b88d1-196">[![De onderdelen PaymentNotes en DelimitedSequence](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-196">[![PaymentNotes and DelimitedSequence components](./media/GER-FormulaEditor-ControlContent-1.png)](./media/GER-FormulaEditor-ControlContent-1.png)</span></span>

> [!NOTE]
> <span data-ttu-id="b88d1-197">De onderdelen **PaymentNotes** en **DelimitedSequence** worden aangeduid met een vraagteken.</span><span class="sxs-lookup"><span data-stu-id="b88d1-197">The **PaymentNotes** and **DelimitedSequence** components are labeled by using a question mark.</span></span> <span data-ttu-id="b88d1-198">Een vraagteken geeft aan dat het gebruik van een onderdeel voorwaardelijk is.</span><span class="sxs-lookup"><span data-stu-id="b88d1-198">A question mark indicates that the use of a component is conditional.</span></span> <span data-ttu-id="b88d1-199">In dit geval wordt het gebruik van de onderdelen gebaseerd op de volgende criteria:</span><span class="sxs-lookup"><span data-stu-id="b88d1-199">In this case, use of the components is based on the following criteria:</span></span>
>
> - <span data-ttu-id="b88d1-200">Door de expressie `@.PaymentsNotes <> ""`, die is gedefinieerd voor het onderdeel **PaymentNotes**, kan door **TRUE** te retourneren het XML-element **Ustrd** worden gevuld met de tekst van betalingsnotities, als deze tekst niet leeg is voor de huidige kredietoverdracht.</span><span class="sxs-lookup"><span data-stu-id="b88d1-200">The `@.PaymentsNotes <> ""` expression that is defined for the **PaymentNotes** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with the text of payment notes, if that text isn't blank for the current credit transfer.</span></span>
>
>    <span data-ttu-id="b88d1-201">[![Expressie voor het onderdeel PaymentNotes](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-201">[![Expression for the PaymentNotes component](./media/GER-FormulaEditor-ControlContent-2.png)](./media/GER-FormulaEditor-ControlContent-2.png)</span></span>
>
> - <span data-ttu-id="b88d1-202">Door de expressie `@.PaymentsNotes = ""`, die is gedefinieerd voor het onderdeel **DelimitedSequence**, kan door **TRUE** te retourneren het XML-element **Ustrd** worden gevuld met een door komma's gescheiden lijst met de factuurnummers die worden gebruikt om de huidige kredietoverdracht te vereffenen, als de tekst van betalingsnotities voor die kredietoverdracht leeg is.</span><span class="sxs-lookup"><span data-stu-id="b88d1-202">The `@.PaymentsNotes = ""` expression that is defined for the **DelimitedSequence** component enables (by returning **TRUE**) the **Ustrd** XML element to be filled with a comma-separated list of the invoice numbers that are used to settle the current credit transfer, if the text of payment notes for that credit transfer is blank.</span></span>
>
>    <span data-ttu-id="b88d1-203">[![Expressie voor het onderdeel DelimitedSequence](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-203">[![Expression for the DelimitedSequence component](./media/GER-FormulaEditor-ControlContent-3.png)](./media/GER-FormulaEditor-ControlContent-3.png)</span></span>
> 
> <span data-ttu-id="b88d1-204">Op basis van deze instelling bevat het gegenereerde bericht voor alle debiteurenbetalingen het XML-element **Ustrd**, de tekst van de betalingsnotities of, wanneer deze tekst leeg is, een door komma's gescheiden lijst met factuurnummers die worden gebruikt om de betaling te vereffenen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-204">Based on this setup, the message that is generated for each debtor payment, the **Ustrd** XML element, will contain either the text of payment notes or, when that text is blank, a comma-separated list of the invoice numbers that are used to settle the payment.</span></span>

## <a name="TestFormula"></a><span data-ttu-id="b88d1-205">Validatie van geconfigureerde formules</span><span class="sxs-lookup"><span data-stu-id="b88d1-205">Validation of configured formulas</span></span>

<span data-ttu-id="b88d1-206">Selecteer op de pagina **Formuleontwerper** de optie **Testen** om te valideren hoe de geconfigureerde formule werkt.</span><span class="sxs-lookup"><span data-stu-id="b88d1-206">On the **Formula designer** page, select **Test** to validate how the configured formula works.</span></span>

<span data-ttu-id="b88d1-207">[![Test selecteren om een formule te valideren](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-207">[![Selecting Test to validate a forumula](./media/ER-FormulaTest-Start.png)](./media/ER-FormulaTest-Start.png)</span></span>

<span data-ttu-id="b88d1-208">Wanneer de waarden van formuleargumenten vereist zijn, kunt u het dialoogvenster **Expressie testen** openen via de pagina **Formuleontwerper**.</span><span class="sxs-lookup"><span data-stu-id="b88d1-208">When the values of formula arguments are required, you can open the **Test expression** dialog box from the **Formula designer** page.</span></span> <span data-ttu-id="b88d1-209">In de meeste gevallen moeten deze argumenten handmatig worden gedefinieerd, omdat de geconfigureerde bindingen niet worden uitgevoerd tijdens de ontwerpperiode.</span><span class="sxs-lookup"><span data-stu-id="b88d1-209">In most cases, these arguments must be manually defined, because the configured bindings aren't run at design time.</span></span> <span data-ttu-id="b88d1-210">Op het tabblad **Testresultaat** op de pagina **Formuleontwerper** wordt het resultaat van de uitvoering van de geconfigureerde formule weergegeven.</span><span class="sxs-lookup"><span data-stu-id="b88d1-210">The **Test result** tab on the **Formula designer** page shows the result from execution of the configured formula.</span></span>

<span data-ttu-id="b88d1-211">In het volgende voorbeeld ziet u hoe u de formule kunt testen die is geconfigureerd voor het buitenlandse handelsdomein om ervoor te zorgen dat de Intrastat-basisproductcode alleen cijfers bevat.</span><span class="sxs-lookup"><span data-stu-id="b88d1-211">The following example shows how you can test the formula that is configured for the foreign trade domain to make sure that the Intrastat commodity code contains only digits.</span></span>

<span data-ttu-id="b88d1-212">Wanneer u deze formule test, kunt u het dialoogvenster **Expressie testen** gebruiken om de waarde van de Intrastat-basisproductcode voor het testen op te geven.</span><span class="sxs-lookup"><span data-stu-id="b88d1-212">When you test this formula, you can use the **Test expression** dialog box to specify the value of the Intrastat commodity code for testing.</span></span>

<span data-ttu-id="b88d1-213">[![De Intrastat-basisproductcode voor het testen opgeven](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-213">[![Specifying the Intrastat commodity code for testing](./media/ER-FormulaTest-Start-EnterArguments.png)](./media/ER-FormulaTest-Start-EnterArguments.png)</span></span>

<span data-ttu-id="b88d1-214">Nadat u de Intrastat-basisproductcode hebt opgegeven en **OK** hebt geselecteerd, wordt op het tabblad **Testresultaat** op de pagina **Formuleontwerper** het resultaat van de uitvoering van de geconfigureerde formule weergegeven.</span><span class="sxs-lookup"><span data-stu-id="b88d1-214">After you specify the Intrastat commodity code and select **OK**, the **Test result** tab on the **Formula designer** page shows the result of execution of the configured formula.</span></span> <span data-ttu-id="b88d1-215">U kunt vervolgens beoordelen of het resultaat acceptabel is.</span><span class="sxs-lookup"><span data-stu-id="b88d1-215">You can then evaluate whether the result is acceptable.</span></span> <span data-ttu-id="b88d1-216">Als het resultaat niet acceptabel is, kunt u de formule bijwerken en opnieuw testen.</span><span class="sxs-lookup"><span data-stu-id="b88d1-216">If the result isn't acceptable, you can update the formula and test it again.</span></span>

<span data-ttu-id="b88d1-217">[![Testresultaat](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-217">[![Test result](./media/ER-FormulaTest-Result.png)](./media/ER-FormulaTest-Result.png)</span></span>

<span data-ttu-id="b88d1-218">Sommige formules kunnen niet worden getest tijdens de ontwerpperiode.</span><span class="sxs-lookup"><span data-stu-id="b88d1-218">Some formulas can't be tested at design time.</span></span> <span data-ttu-id="b88d1-219">Een formule kan bijvoorbeeld een resultaat opleveren van een gegevenstype dat niet kan worden weergegeven op het tabblad **Testresultaat**. In dit geval wordt een foutbericht weergegeven waarin wordt gesteld dat de formule niet kan worden getest.</span><span class="sxs-lookup"><span data-stu-id="b88d1-219">For example, a formula might return a result of a data type that can't be shown on the **Test result** tab. In this case, you receive an error message that states that the formula can't be tested.</span></span>

<span data-ttu-id="b88d1-220">[![Foutbericht](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span><span class="sxs-lookup"><span data-stu-id="b88d1-220">[![Error message](./media/ER-FormulaTest-Error.png)](./media/ER-FormulaTest-Error.png)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="b88d1-221">Aanvullende resources</span><span class="sxs-lookup"><span data-stu-id="b88d1-221">Additional resources</span></span>

- [<span data-ttu-id="b88d1-222">Overzicht van elektronische rapportage</span><span class="sxs-lookup"><span data-stu-id="b88d1-222">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="b88d1-223">Formuletaal in Elektronische rapportage</span><span class="sxs-lookup"><span data-stu-id="b88d1-223">Electronic reporting formula language</span></span>](er-formula-language.md)
