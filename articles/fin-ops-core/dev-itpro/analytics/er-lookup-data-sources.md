---
title: Gegevensbronnen voor opzoeken configureren om ER-toepassingsspecifieke parameters te gebruiken
description: In dit onderwerp wordt uitgelegd hoe u gegevensbronnen voor opzoeken in ER-indelingen (Elektronische rapportage) kunt configureren voor het gebruik van ER-applicatiespecifieke parameters.
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 131d14f1f1aa329bd71b1f8a4015192736bd8e44
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 05/11/2021
ms.locfileid: "6022570"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="67a59-103">Gegevensbronnen voor opzoeken configureren om ER-toepassingsspecifieke parameters te gebruiken</span><span class="sxs-lookup"><span data-stu-id="67a59-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="67a59-104">Met de functie voor toepassingsspecifieke [ER-parameters](general-electronic-reporting.md) kunt u gegevens filteren in een ER-indeling, zodat deze is gebaseerd op een set abstracte regels.</span><span class="sxs-lookup"><span data-stu-id="67a59-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="67a59-105">Deze set regels kan worden geconfigureerd voor gebruik van de gegevensbronnen van het type **Opzoeken** die beschikbaar zijn in een ER-indeling.</span><span class="sxs-lookup"><span data-stu-id="67a59-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="67a59-106">U kunt vervolgens echte regels opgeven die verder gaan dan het ontwerpen van ER-componenten door de gebruikersinterface (UI) te gebruiken die automatisch wordt gegenereerd op basis van de instellingen van de gegevensbron voor **Opzoeken** van de overeenkomstige ER-indeling en de huidige gegevens van de rechtspersoon.</span><span class="sxs-lookup"><span data-stu-id="67a59-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="67a59-107">Uiteindelijk worden de opgegeven regels geopend door de gegevensbron **Opzoeken** van de ER-indeling wanneer deze ER-indeling wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="67a59-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="67a59-108">Gebruik de geconfigureerde gegevensbronnen van de bewerkbare ER-indeling om op te geven welke toepassingsgegevens worden gebruikt om echte regels te configureren.</span><span class="sxs-lookup"><span data-stu-id="67a59-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="67a59-109">Gebruik de [ER Operations-ontwerper](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) om een gegevensbron van het type **Opzoeken** in uw ER-indeling op te nemen.</span><span class="sxs-lookup"><span data-stu-id="67a59-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="67a59-110">De gegevensbron moet worden geconfigureerd om te beschrijven hoe uw abstracte regels eruitzien, waaronder het volgende:</span><span class="sxs-lookup"><span data-stu-id="67a59-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="67a59-111">De parameterset van een bepaald gegevenstype waarvan de waarde wordt opgegeven om één regel op te geven.</span><span class="sxs-lookup"><span data-stu-id="67a59-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="67a59-112">Het waardetype van bepaalde gegevenstypen dat door één regel wordt geretourneerd wanneer deze regel onder andere als het meest geschikt wordt beschouwd.</span><span class="sxs-lookup"><span data-stu-id="67a59-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="67a59-113">U kunt de volgende typen gegevensbronnen voor **Opzoeken** configureren, afhankelijk van het type waarde dat door elke geconfigureerde regel wordt geretourneerd:</span><span class="sxs-lookup"><span data-stu-id="67a59-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="67a59-114">Gebruik het type **Gegevensmodel\Opzoeken** wanneer een modelopsommingswaarde moet worden geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="67a59-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="67a59-115">Gebruik het type **Dynamics 365 Operations\opzoeken** wanneer een opsommingswaarde voor een toepassing of een waarde voor een [uitgebreid gegevenstype van een toepassing](../extensibility/extensible-edts.md) moet worden geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="67a59-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="67a59-116">Gebruik het type **Opmaakopsomming\Opzoeken** wanneer een opmaakopsommingswaarde moet worden geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="67a59-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="67a59-117">In de volgende afbeelding ziet u hoe een opmaakopsomming kan worden geconfigureerd in de ER-voorbeeldindeling.</span><span class="sxs-lookup"><span data-stu-id="67a59-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Een opmaakopsomming weergeven als basis voor de geconfigureerde opzoekgegevensbron](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="67a59-119">In de volgende afbeelding ziet u de opmaakonderdelen die zijn geconfigureerd om verschillende soorten belastingen te rapporteren in een andere sectie van een gegenereerd rapport.</span><span class="sxs-lookup"><span data-stu-id="67a59-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![De opmaaksecties weergeven om verschillende soorten belastingen afzonderlijk te rapporteren](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="67a59-121">In de volgende afbeelding ziet u hoe de ER Operations-ontwerpfunctie de toevoeging van een gegevensbron van het type **Opmaakopsomming\Opzoeken** toestaat.</span><span class="sxs-lookup"><span data-stu-id="67a59-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="67a59-122">De toegevoegde gegevensbron wordt geconfigureerd als het retourneren van een waarde van de opmaakopsomming `List of taxation levels`.</span><span class="sxs-lookup"><span data-stu-id="67a59-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Een ER-gegevensbron toevoegen van het opmaakopsomming\opzoektype](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="67a59-124">In de volgende afbeelding ziet u hoe de toegevoegde gegevensbron is geconfigureerd om het veld **Code** van de recordlijst **Model.Data.Tax** uit de gegevensbron **Model** te gebruiken als een parameter die voor elke geconfigureerde regel moet worden opgegeven.</span><span class="sxs-lookup"><span data-stu-id="67a59-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Parameters configureren van de toegevoegde gegevensbron van het type Opmaakopsomming\Opzoeken](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="67a59-126">De toegevoegde `Model.Data.Tax`-gegevensbron is geconfigureerd om een belastingcode op te geven voor elke geconfigureerde regel door toegang te krijgen tot records van de  **TaxTable**-toepassingstabel.</span><span class="sxs-lookup"><span data-stu-id="67a59-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Beoordeling van de gegevensbron voor het opzoeken van één bedrijf van het type Opmaakopsomming\Opzoeken](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="67a59-128">U kunt de opzoekregels voor de geselecteerde ER-indeling instellen met behulp van de gebruikersinterface die automatisch wordt uitgelijnd met de structuur van de geconfigureerde gegevensbron.</span><span class="sxs-lookup"><span data-stu-id="67a59-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="67a59-129">Momenteel vereist deze gebruikersinterface dat u voor elke regel de geretourneerde waarde opgeeft als de waarde voor de `List of taxation levels`-opmaakopsomming en de belastingcode als parameter.</span><span class="sxs-lookup"><span data-stu-id="67a59-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![De regels voor de geconfigureerde gegevensbron instellen](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="67a59-131">In de volgende afbeelding ziet u hoe de gegevensbron `Model.Data.Summary.LevelByLookup` van het type **Berekend veld** kan worden geconfigureerd om de geconfigureerde **opzoekgegevensbron** met de vereiste parameters aan te roepen.</span><span class="sxs-lookup"><span data-stu-id="67a59-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="67a59-132">Als u deze aanroep tijdens runtime wilt verwerken, doorloopt ER de lijst met geconfigureerde regels in de gedefinieerde reeks om de eerste regel te vinden die aan de opgegeven voorwaarden voldoet.</span><span class="sxs-lookup"><span data-stu-id="67a59-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="67a59-133">In dit voorbeeld is het de regel die de belastingcode bevat die overeenkomt met de opgegeven code.</span><span class="sxs-lookup"><span data-stu-id="67a59-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="67a59-134">Als gevolg hiervan wordt de meest geschikte regel gevonden en wordt door deze gegevensbron de opsommingswaarde geretourneerd die is geconfigureerd voor de gevonden regel.</span><span class="sxs-lookup"><span data-stu-id="67a59-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="67a59-135">Er wordt een uitzondering gegenereerd wanneer er geen toepasselijke regel wordt gevonden.</span><span class="sxs-lookup"><span data-stu-id="67a59-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="67a59-136">Als u deze uitzonderingen wilt voorkomen, configureert u aanvullende regels aan het einde van de lijst met regels om aanvragen af te handelen wanneer een niet-geconfigureerde waarde of geen waarde wordt opgegeven.</span><span class="sxs-lookup"><span data-stu-id="67a59-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="67a59-137">Gebruik dienovereenkomstig de opties **\*Niet leeg**\* en \*\*\*Leeg\*\*\*.</span><span class="sxs-lookup"><span data-stu-id="67a59-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Een gegevensbron toevoegen om de geconfigureerde opzoekgegevensbron aan te roepen](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="67a59-139">Wanneer u de optie **Meerdere bedrijven** instelt op **Ja** voor de bewerkbare opzoekgegevensbron, voegt u een nieuwe vereiste **bedrijfsparameter** toe aan de set parameters van deze gegevensbron.</span><span class="sxs-lookup"><span data-stu-id="67a59-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="67a59-140">De waarde van de parameter **Bedrijf** moet tijdens runtime worden opgegeven wanneer de opzoekgegevensbron wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="67a59-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="67a59-141">Wanneer de bedrijfscode tijdens runtime wordt opgegeven, worden de regels die voor dit bedrijf zijn geconfigureerd, gebruikt om de meest geschikte regel te vinden en wordt de bijbehorende waarde geretourneerd.</span><span class="sxs-lookup"><span data-stu-id="67a59-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="67a59-142">In de volgende afbeelding ziet u hoe u dit kunt doen en hoe de set parameters van de bewerkbare gegevensbron wordt gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="67a59-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Beoordeling van de gegevensbron voor het opzoeken van meerdere bedrijven van het type Opmaakopsomming\Opzoeken](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="67a59-144">Selecteer elk bedrijf afzonderlijk om de set regels voor deze opzoekgegevensbron van de bewerkbare ER-indeling te configureren.</span><span class="sxs-lookup"><span data-stu-id="67a59-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="67a59-145">Er wordt een uitzondering gegenereerd tijdens runtime wanneer de opzoekopdracht voor verschillende bedrijven wordt aangeroepen met de code van het bedrijf waarvoor de opzoekinstelling niet is voltooid.</span><span class="sxs-lookup"><span data-stu-id="67a59-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="67a59-146">Zorg ervoor dat u machtigingen verleent voor een gebruiker die de ER-indeling uitvoert met de gegevensbron **Opzoeken** voor meerdere bedrijven om toegang te krijgen tot de gegevens van elk bedrijf binnen het bereik van deze gegevensbron.</span><span class="sxs-lookup"><span data-stu-id="67a59-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="67a59-147">Anders moet een uitzondering worden gemaakt tijdens runtime.</span><span class="sxs-lookup"><span data-stu-id="67a59-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="67a59-148">Vanaf versie 10.0.19 zijn de uitgebreide mogelijkheden van de **opzoekgegevensbronnen** beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="67a59-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="67a59-149">Wanneer u de optie **Uitgebreid** instelt op **Ja** voor de bewerkbare opzoekgegevensbron, wordt de geconfigureerde opzoekgegevensbron getransformeerd naar de gestructureerde gegevensbron die de extra mogelijkheden biedt om de geconfigureerde set regels te analyseren.</span><span class="sxs-lookup"><span data-stu-id="67a59-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="67a59-150">In de volgende afbeelding ziet u deze transformatie.</span><span class="sxs-lookup"><span data-stu-id="67a59-150">The following illustration shows this transformation.</span></span>

   ![Beoordeling van de gestructureerde opzoekgegevensbron van het type Opmaakopsomming\Opzoeken](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="67a59-152">Het subitem **Opzoeken** is ontworpen als een functie om de meest geschikte regel te vinden uit de set configureerbare regels op basis van de opgegeven set parameters.</span><span class="sxs-lookup"><span data-stu-id="67a59-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="67a59-153">Het subitem **IsLookupResultSet** is ontworpen als een functie om de opgegeven waarde van de basisgegevensbron met opsomming te accepteren en de *booleaanse* waarde **true** te retourneren wanneer de set regels ten minste één regel bevat waarvoor de opgegeven opsommingswaarde is geconfigureerd als een geretourneerde waarde.</span><span class="sxs-lookup"><span data-stu-id="67a59-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="67a59-154">Deze functie retourneert de *booleaanse* waarde **false** wanneer er geen regels zijn geconfigureerd om de opgegeven opsommingswaarde te retourneren.</span><span class="sxs-lookup"><span data-stu-id="67a59-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="67a59-155">Het subitem **Instelling** is ontworpen als een functie die de set geconfigureerde regels retourneert als records van een recordlijst.</span><span class="sxs-lookup"><span data-stu-id="67a59-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="67a59-156">De geretourneerde waarden en de set parameters van de geconfigureerde regels worden in elke geretourneerde record weergegeven als velden van de relevante gegevenstypen:</span><span class="sxs-lookup"><span data-stu-id="67a59-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="67a59-157">De geretourneerde waarde wordt weergegeven als het veld **Opzoekresultaat**.</span><span class="sxs-lookup"><span data-stu-id="67a59-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="67a59-158">De geconfigureerde parameters worden weergegeven als velden met namen van parameters (veld **Code** in dit voorbeeld).</span><span class="sxs-lookup"><span data-stu-id="67a59-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="67a59-159">Zie [ER-indelingen configureren om parameters te gebruiken die per rechtspersoon zijn opgegeven](er-app-specific-parameters-configure-format.md) voor meer informatie over het configureren van de gegevensbron **Opzoeken**.</span><span class="sxs-lookup"><span data-stu-id="67a59-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="67a59-160">Zie [De parameters van een ER-indeling per rechtspersoon instellen](er-app-specific-parameters-set-up.md) voor meer informatie over het instellen van de opzoekregels.</span><span class="sxs-lookup"><span data-stu-id="67a59-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="67a59-161">Aanvullende bronnen</span><span class="sxs-lookup"><span data-stu-id="67a59-161">Additional resources</span></span>

[<span data-ttu-id="67a59-162">ER-indelingen configureren om parameters te gebruiken die per rechtspersoon worden opgegeven</span><span class="sxs-lookup"><span data-stu-id="67a59-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="67a59-163">De parameters van een ER-indeling per rechtspersoon instellen</span><span class="sxs-lookup"><span data-stu-id="67a59-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
