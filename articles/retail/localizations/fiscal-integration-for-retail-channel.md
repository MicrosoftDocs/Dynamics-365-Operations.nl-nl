---
title: Overzicht van fiscale integratie voor detailhandelskanalen
description: Dit onderwerp biedt een overzicht van de fiscale integratiefuncties die beschikbaar zijn in Dynamics 365 Retail.
author: josaw
manager: annbe
ms.date: 02/01/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: RetailFunctionalityProfile, RetailFormLayout, RetailParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: Retail
ms.author: v-kikozl
ms.search.validFrom: 2019-1-16
ms.dyn365.ops.version: 10
ms.openlocfilehash: 7e32f408e5c68a3422906347981c6fc4a4579daf
ms.sourcegitcommit: 36857283d70664742c8c04f426b231c42daf4ceb
ms.translationtype: HT
ms.contentlocale: nl-NL
ms.lasthandoff: 12/20/2019
ms.locfileid: "2915242"
---
# <a name="overview-of-fiscal-integration-for-retail-channels"></a><span data-ttu-id="7e8b1-103">Overzicht van fiscale integratie voor detailhandelskanalen</span><span class="sxs-lookup"><span data-stu-id="7e8b1-103">Overview of fiscal integration for Retail channels</span></span>

[!include [banner](../includes/banner.md)]

## <a name="introduction"></a><span data-ttu-id="7e8b1-104">Introductie</span><span class="sxs-lookup"><span data-stu-id="7e8b1-104">Introduction</span></span>

<span data-ttu-id="7e8b1-105">Dit onderwerp biedt een overzicht van de fiscale integratiefuncties die beschikbaar zijn in Dynamics 365 Retail.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-105">This topic is an overview of the fiscal integration capabilities that are available in Dynamics 365 Retail.</span></span> <span data-ttu-id="7e8b1-106">Fiscale integratie omvat integratie met verschillende fiscale apparaten en services die fiscale registratie mogelijk maken van detailhandelverkoop, in overeenstemming met de lokale belastingwetgeving die gericht is op het voorkomen van belastingfraude in de detailhandel.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-106">Fiscal integration includes integration with various fiscal devices and services that enable fiscal registration of retail sales in accordance with local fiscal laws that are aimed at preventing tax fraud in the retail industry.</span></span> <span data-ttu-id="7e8b1-107">Dit zijn enkele veelvoorkomende scenario's die kunnen worden gedekt door fiscale integratie:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-107">Here are some typical scenarios that can be covered by using fiscal integration:</span></span>

- <span data-ttu-id="7e8b1-108">Registreer een detailhandelverkoop op een fiscaal apparaat dat is verbonden met Retail POS, zoals een fiscale printer, en druk een fiscaal ontvangstbewijs voor de klant af.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-108">Register a retail sale on a fiscal device that is connected to Retail point of sale (POS), such as a fiscal printer, and print a fiscal receipt for the customer.</span></span>
- <span data-ttu-id="7e8b1-109">Dien veilig informatie die verband houdt met verkopen en retouren die worden voltooid in Retail POS, in bij een externe webservice die wordt bediend door de belastingdienst.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-109">Securely submit information that is related to sales and returns that are completed in Retail POS to an external web-service that is operated by the tax authority.</span></span>
- <span data-ttu-id="7e8b1-110">Help intactheid van verkooptransactiegegevens garanderen met behulp van digitale ondertekening.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-110">Help guarantee inalterability of sales transaction data through digital signatures.</span></span>

<span data-ttu-id="7e8b1-111">De functionaliteit voor fiscale integratie is een raamwerk dat een gemeenschappelijke oplossing biedt voor verdere ontwikkeling en aanpassing van de integratie tussen Retail POS en fiscale apparaten en services.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-111">The fiscal integration functionality is a framework that provides a common solution for further development and customization of the integration between Retail POS and fiscal devices and services.</span></span> <span data-ttu-id="7e8b1-112">De functionaliteit bevat ook fiscale integratievoorbeelden die ondersteuning bieden voor elementaire detailhandelscenario's voor specifieke landen of regio's, en die werken met specifieke fiscale apparaten of services.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-112">The functionality also includes fiscal integration samples that support basic retail scenarios for specific countries or regions, and that work with specific fiscal devices or services.</span></span> <span data-ttu-id="7e8b1-113">Een fiscaal integratievoorbeeld bestaat uit verschillende uitbreidingen van de detailhandelonderdelen en is opgenomen in de SDK (Software Development Kit).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-113">A fiscal integration sample consists of several extensions of Retail components and is included in the software development kit (SDK).</span></span> <span data-ttu-id="7e8b1-114">Zie voor meer informatie over de voorbeelden van fiscale integratie [Voorbeelden van fiscale integratie in de Retail-SDK](#fiscal-integration-samples-in-the-retail-sdk).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-114">For more information about the fiscal integration samples, see [Fiscal integration samples in the Retail SDK](#fiscal-integration-samples-in-the-retail-sdk).</span></span> <span data-ttu-id="7e8b1-115">Zie voor informatie over het installeren en gebruiken van de Retail-SDK [Architectuur van Retail-SDK (Software Development Kit)](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-115">For information about how to install and use the Retail SDK, see [Retail software development kit (SDK) architecture](../dev-itpro/retail-sdk/retail-sdk-overview.md).</span></span>

<span data-ttu-id="7e8b1-116">Ter ondersteuning van andere scenario's die niet worden ondersteund door een fiscaal integratievoorbeeld, om Retail POS te integreren met andere fiscale apparaten of services of om te voldoen aan vereisten van andere landen of regio's, moet u een bestaand fiscaal integratievoorbeeld uitbreiden of een nieuw voorbeeld maken op basis van een bestaand voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-116">To support other scenarios that aren't supported by a fiscal integration sample, to integrate Retail POS with other fiscal devices or services, or to cover requirements of other countries or regions, you must either extend an existing fiscal integration sample or create a new sample by using an existing sample as an example.</span></span>

## <a name="fiscal-registration-process-and-fiscal-integration-samples-for-fiscal-devices"></a><span data-ttu-id="7e8b1-117">Fiscale registratieproces- en fiscale integratievoorbeelden voor fiscale apparaten</span><span class="sxs-lookup"><span data-stu-id="7e8b1-117">Fiscal registration process and fiscal integration samples for fiscal devices</span></span>

<span data-ttu-id="7e8b1-118">Een fiscaal registratieproces in Retail POS kan bestaan uit een of meer stappen.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-118">A fiscal registration process in Retail POS can consist of one or more steps.</span></span> <span data-ttu-id="7e8b1-119">Elke stap omvat fiscale registratie van specifieke detailhandeltransacties of -gebeurtenissen in één fiscaal apparaat of service.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-119">Each step involves fiscal registration of specific retail transactions or events in one fiscal device or service.</span></span> <span data-ttu-id="7e8b1-120">De volgende oplossingsonderdelen maken deel uit van de fiscale registratie in een fiscaal apparaat dat is verbonden met een Hardware-station:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-120">The following solution components participate in the fiscal registration in a fiscal device that is connected to a Hardware station:</span></span>

- <span data-ttu-id="7e8b1-121">Extensie **Commerce runtime (CRT)**: dit onderdeel serialiseert gebeurtenissen van detailhandeltransacties/-gebeurtenissen in de indeling die ook wordt gebruikt voor interactie met het fiscale apparaat, ontleedt antwoorden van het fiscale apparaat en slaat de antwoorden op in de afzetkanaaldatabase.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-121">**Commerce runtime (CRT) extension** – This component serializes retail transaction/event data in the format that is also used for interaction with the fiscal device, parses responses from the fiscal device, and stores the responses in the channel database.</span></span> <span data-ttu-id="7e8b1-122">De extensie definieert ook de specifieke transacties en gebeurtenissen die moeten worden geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-122">The extension also defines the specific transactions and events that must be registered.</span></span> <span data-ttu-id="7e8b1-123">Naar dit onderdeel wordt vaak verwezen als een *fiscale documentprovider*.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-123">This component is often referred to as a *fiscal document provider*.</span></span>
- <span data-ttu-id="7e8b1-124">**Extensie Hardware-station**: dit onderdeel initialiseert de communicatie met het fiscale apparaat, verzendt aanvragen en directe opdrachten naar het fiscale apparaat op basis van de gegevens van detailhandeltransacties/-gebeurtenissen die afkomstig zijn uit het fiscale document en ontvangt antwoorden van het fiscale apparaat.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-124">**Hardware station extension** – This component initializes the communication with the fiscal device, sends requests and direct commands to the fiscal device based on the retail transaction/event data that is extracted from the fiscal document, and receives responses from the fiscal device.</span></span> <span data-ttu-id="7e8b1-125">Naar dit onderdeel wordt vaak verwezen als een *fiscale connector*.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-125">This component is often referred to as a *fiscal connector*.</span></span>

<span data-ttu-id="7e8b1-126">Een fiscaal integratievoorbeeld voor een fiscaal apparaat bevat de extensies CRT en Hardware-station voor respectievelijk een fiscale documentprovider en een fiscale connector.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-126">A fiscal integration sample for a fiscal device contains the CRT and Hardware station extensions for a fiscal document provider and a fiscal connector, respectively.</span></span> <span data-ttu-id="7e8b1-127">Het bevat ook de volgende componentconfiguraties:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-127">It also contains the following component configurations:</span></span>

- <span data-ttu-id="7e8b1-128">**Configuratie van fiscale documentprovider**: deze configuratie bepaalt een uitvoermethode en een indeling voor fiscale documenten.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-128">**Fiscal document provider configuration** – This configuration defines an output method and a format for fiscal documents.</span></span> <span data-ttu-id="7e8b1-129">De configuratie bevat ook een gegevenstoewijzing voor belastingen en betalingsmethoden om gegevens uit Retail POS compatibel te maken met de waarden die vooraf zijn gedefinieerd in de firmware van het fiscale apparaat.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-129">It also contains a data mapping for taxes and payment methods, to make data from Retail POS compatible with the values that are predefined in the fiscal device firmware.</span></span>
- <span data-ttu-id="7e8b1-130">**Configuratie van fiscale connector**: deze configuratie bepaalt de fysieke communicatie met het specifieke fiscale apparaat.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-130">**Fiscal connector configuration** – This configuration defines the physical communication with the specific fiscal device.</span></span>

<span data-ttu-id="7e8b1-131">Een fiscaal registratieproces voor een bepaalde POS-kassa wordt gedefinieerd door een bijbehorende instelling in het POS-functionaliteitsprofiel.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-131">A fiscal registration process for a specific POS register is defined by a corresponding setting in the POS functionality profile.</span></span> <span data-ttu-id="7e8b1-132">Voor meer informatie over het configureren van een fiscaal registratieproces uploadt u configuraties voor de fiscale documentprovider en connector en wijzigt u de parameters ervan. Zie [Een fiscaal registratieproces instellen](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-132">For more details about how to configure a fiscal registration process, upload fiscal document provider and fiscal connector configurations, and change their parameters, see [Set up a fiscal registration process](setting-up-fiscal-integration-for-retail-channel.md#set-up-a-fiscal-registration-process).</span></span>

<span data-ttu-id="7e8b1-133">Het volgende voorbeeld toont een gebruikelijke fiscale registratie-uitvoeringsstroom voor een fiscaal apparaat.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-133">The following example shows a typical fiscal registration execution flow for a fiscal device.</span></span> <span data-ttu-id="7e8b1-134">De stroom begint met een gebeurtenis in het POS (bijvoorbeeld de voltooiing van een verkooptransactie) en implementeert de volgende reeks stappen:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-134">The flow starts with an event in the POS (for example, finalization of a sales transaction) and implements the following sequence of steps:</span></span>

1. <span data-ttu-id="7e8b1-135">Het POS vraagt een fiscaal document aan bij CRT.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-135">The POS requests a fiscal document from CRT.</span></span>
2. <span data-ttu-id="7e8b1-136">CRT bepaalt of de huidige gebeurtenis fiscale registratie vereist.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-136">CRT determines whether the current event requires fiscal registration.</span></span>
3. <span data-ttu-id="7e8b1-137">Op basis van de instellingen voor het fiscale registratieproces, identificeert CRT een fiscale connector en de bijbehorende fiscale documentprovider die moet worden gebruikt voor de fiscale registratie.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-137">Based on the fiscal registration process settings, CRT identifies a fiscal connector and corresponding fiscal document provider to use for the fiscal registration.</span></span>
4. <span data-ttu-id="7e8b1-138">CRT wordt uitgevoerd voor de fiscale documentprovider die een fiscaal document genereert (bijvoorbeeld een XML-document) dat staat voor de detailhandeltransactie of gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-138">CRT runs the fiscal document provider that generates a fiscal document (for example, an XML document) that represents the retail transaction or event.</span></span>
5. <span data-ttu-id="7e8b1-139">Het POS verzendt het fiscale document dat CRT voorbereidt naar een Hardware-station.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-139">The POS sends the fiscal document that CRT prepares to a Hardware station.</span></span>
6. <span data-ttu-id="7e8b1-140">Het Hardware-station voert de fiscale connector uit die het fiscale document verwerkt en doorgeeft aan het fiscale apparaat of service.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-140">The Hardware station runs the fiscal connector that processes the fiscal document and communicates it to the fiscal device or service.</span></span>
7. <span data-ttu-id="7e8b1-141">Het POS analyseert de reactie van het fiscale apparaat of service om te bepalen of de fiscale registratie voltooid is.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-141">The POS analyzes the response from the fiscal device or service to determine whether the fiscal registration was successful.</span></span>
8. <span data-ttu-id="7e8b1-142">CRT slaat het antwoord op in de afzetkanaaldatabase.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-142">CRT saves the response to the channel database.</span></span>

<span data-ttu-id="7e8b1-143">![Oplossingsschema](media/emea-fiscal-integration-solution.png "Oplossingsschema")</span><span class="sxs-lookup"><span data-stu-id="7e8b1-143">![Solution schema](media/emea-fiscal-integration-solution.png "Solution schema")</span></span>

## <a name="error-handling"></a><span data-ttu-id="7e8b1-144">Foutverwerking</span><span class="sxs-lookup"><span data-stu-id="7e8b1-144">Error handling</span></span>

<span data-ttu-id="7e8b1-145">Het fiscale integratieraamwerk biedt de volgende opties voor het afhandelen van fouten tijdens fiscale registratie:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-145">The fiscal integration framework provides the following options to handle failures during fiscal registration:</span></span>

- <span data-ttu-id="7e8b1-146">**Opnieuw**: operators kunnen deze optie gebruiken als de storing snel kan worden opgelost en de fiscale registratie opnieuw kan worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-146">**Retry** – Operators can use this option when the failure can be resolved quickly, and the fiscal registration can be rerun.</span></span> <span data-ttu-id="7e8b1-147">Deze optie kan bijvoorbeeld worden gebruikt wanneer het fiscale apparaat niet is verbonden, de fiscale printer geen papier bevat of er papier is vastgelopen in de fiscale printer.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-147">For example, this option can be used when the fiscal device isn't connected, the fiscal printer is out of paper, or there is a paper jam in the fiscal printer.</span></span>
- <span data-ttu-id="7e8b1-148">**Annuleren**: met deze optie kunnen operators de fiscale registratie van de huidige transactie of gebeurtenis uitstellen als deze mislukt.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-148">**Cancel** – This option lets operators postpone the fiscal registration of the current transaction or event if it fails.</span></span> <span data-ttu-id="7e8b1-149">Nadat de registratie is uitgesteld, kan de operator blijven werken op het POS en kan elke bewerking worden voltooid waarvoor geen fiscale registratie vereist is.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-149">After the registration is postponed, the operator can continue to work on the POS and can complete any operation that the fiscal registration isn't required for.</span></span> <span data-ttu-id="7e8b1-150">Wanneer een gebeurtenis de fiscale registratie vereist in het POS (er wordt bijvoorbeeld een nieuwe transactie geopend), wordt het dialoogvenster voor foutafhandeling automatisch weergegeven om de operator te informeren dat de vorige transactie niet correct is geregistreerd en om opties voor foutafhandeling te bieden.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-150">When any event that requires the fiscal registration occurs in the POS (for example, a new transaction is opened), the error handling dialog box automatically appears to notify the operator that the previous transaction wasn't correctly registered and to provide the error handling options.</span></span>
- <span data-ttu-id="7e8b1-151">**Overslaan**: operators kunnen deze optie gebruiken wanneer de fiscale registratie onder bepaalde voorwaarden kan worden weggelaten en normale bewerkingen kunnen doorgaan in het POS.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-151">**Skip** – Operators can use this option when the fiscal registration can be omitted under specific conditions and regular operations can be continued on the POS.</span></span> <span data-ttu-id="7e8b1-152">Deze optie kan bijvoorbeeld worden gebruikt wanneer een verkooptransactie waarvoor de fiscale registratie is mislukt, kan worden geregistreerd in een speciaal papieren journaal.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-152">For example, this option can be used when a sales transaction that the fiscal registration failed for can be registered in a special paper journal.</span></span>
- <span data-ttu-id="7e8b1-153">**Markeren als geregistreerd**: operatoren kunnen deze optie gebruiken als de transactie is geregistreerd in het fiscale apparaat (er is bijvoorbeeld een fiscaal ontvangstbewijs afgedrukt), maar er een fout is opgetreden bij het opslaan van het fiscale antwoord in de afzetkanaaldatabase.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-153">**Mark as registered** – Operators can use this option when the transaction was actually registered in the fiscal device (for example, a fiscal receipt was printed), but a failure occurred when the fiscal response was being saved to the channel database.</span></span>

> [!NOTE]
> <span data-ttu-id="7e8b1-154">De opties **Overslaan** en **Markeren als geregistreerd** moeten in het fiscale registratieproces worden geactiveerd voordat ze worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-154">The **Skip** and **Mark as registered** options must be activated in the fiscal registration process before they are used.</span></span> <span data-ttu-id="7e8b1-155">Bovendien moeten bijbehorende machtigingen worden toegekend aan operators.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-155">In addition, corresponding permissions must be granted to operators.</span></span>

<span data-ttu-id="7e8b1-156">De opties **Overslaan** en **Markeren als geregistreerd** maken infocodes mogelijk om bepaalde specifieke informatie over de fout op te slaan, zoals de reden voor de fout of een uitleg van waarom de fiscale registratie is overgeslagen of de transactie als geregistreerd is gemarkeerd.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-156">The **Skip** and **Mark as registered** options enable info codes to capture some specific information about the failure, such as the reason for the failure or a justification for skipping the fiscal registration or marking the transaction as registered.</span></span> <span data-ttu-id="7e8b1-157">Zie voor meer informatie over het instellen van parameters voor foutafhandeling [Instellingen voor het verwerken van fouten kiezen](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-157">For more details about how to set up error handling parameters, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

### <a name="optional-fiscal-registration"></a><span data-ttu-id="7e8b1-158">Optionele fiscale registratie</span><span class="sxs-lookup"><span data-stu-id="7e8b1-158">Optional fiscal registration</span></span>

<span data-ttu-id="7e8b1-159">Fiscale registratie kan verplicht zijn voor bepaalde bewerkingen, maar optioneel voor andere bewerkingen.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-159">Fiscal registration might be mandatory for some operations but optional for others.</span></span> <span data-ttu-id="7e8b1-160">De fiscale registratie van normale verkopen en retouren kan bijvoorbeeld verplicht zijn, maar de fiscale registratie van bewerkingen die zijn gerelateerd aan klantdeposito´s kan optioneel zijn.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-160">For example, the fiscal registration of regular sales and returns might be mandatory, but the fiscal registration of operations that are related to customer deposits might be optional.</span></span> <span data-ttu-id="7e8b1-161">In dit geval wordt verdere verkoop geblokkeerd als er geen fiscale registratie van een verkoop plaatsvindt, maar als de fiscale registratie van een klantdeposito niet wordt uitgevoerd, wordt verdere verkoop niet geblokkeerd.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-161">In this case, failure to complete the fiscal registration of a sale should block further sales, but failure to complete the fiscal registration of a customer deposit should not block further sales.</span></span> <span data-ttu-id="7e8b1-162">Om een onderscheid te maken tussen verplichte en optionele bewerkingen wordt aangeraden deze af te handelen via verschillende documentproviders en afzonderlijke stappen in het proces van fiscale registratie voor deze providers in te stellen.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-162">To distinguish mandatory and optional operations, we recommend that you handle them through different document providers, and that you set up separate steps in the fiscal registration process for those providers.</span></span> <span data-ttu-id="7e8b1-163">De parameter **Doorgaan bij fout** moet worden ingeschakeld voor elke stap die is gerelateerd aan optionele fiscale registratie.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-163">The **Continue on error** parameter should be enabled for any step that is related to optional fiscal registration.</span></span> <span data-ttu-id="7e8b1-164">Zie voor meer informatie over het instellen van parameters voor foutafhandeling [Instellingen voor het verwerken van fouten kiezen](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-164">For more details about how to set up error handling parameters, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

### <a name="manually-running-fiscal-registration"></a><span data-ttu-id="7e8b1-165">Fiscale registratie handmatig uitvoeren</span><span class="sxs-lookup"><span data-stu-id="7e8b1-165">Manually running fiscal registration</span></span>

<span data-ttu-id="7e8b1-166">Als de fiscale registratie van een transactie of gebeurtenis is uitgesteld na een fout (bijvoorbeeld als de operator **Annuleren** heeft geselecteerd in het dialoogvenster voor foutafhandeling), kunt u de fiscale registratie handmatig opnieuw uitvoeren door een bijbehorende bewerking aan te roepen.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-166">If the fiscal registration of a transaction or event has been postponed after a failure (for example, if the operator selected **Cancel** in the error handling dialog box), you can manually rerun the fiscal registration by invoking a corresponding operation.</span></span> <span data-ttu-id="7e8b1-167">Zie voor meer informatie [Handmatige uitvoering van uitgestelde fiscale registratie inschakelen](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-167">For more details, see [Enable manual execution of postponed fiscal registration](setting-up-fiscal-integration-for-retail-channel.md#enable-manual-execution-of-postponed-fiscal-registration).</span></span>

### <a name="fiscal-registration-health-check"></a><span data-ttu-id="7e8b1-168">Statuscontrole fiscale registratie</span><span class="sxs-lookup"><span data-stu-id="7e8b1-168">Fiscal registration health check</span></span>

<span data-ttu-id="7e8b1-169">Met de statuscontroleprocedure voor fiscale registraties wordt de beschikbaarheid van het fiscale apparaat of de fiscale service gecontroleerd wanneer bepaalde gebeurtenissen plaatsvinden.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-169">The health check procedure for fiscal registrations verifies the availability of the fiscal device or service when specific events occur.</span></span> <span data-ttu-id="7e8b1-170">Als de fiscale registratie momenteel niet kan worden voltooid, wordt de operator vooraf in kennis gesteld.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-170">If the fiscal registration can't currently be completed, the operator is notified in advance.</span></span>

<span data-ttu-id="7e8b1-171">Met het POS wordt de statuscontrole uitgevoerd wanneer de volgende gebeurtenissen plaatsvinden:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-171">The POS runs the health check when the following events occur:</span></span>

- <span data-ttu-id="7e8b1-172">Er wordt een nieuwe transactie geopend.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-172">A new transaction is opened.</span></span>
- <span data-ttu-id="7e8b1-173">Een uitgestelde transactie wordt teruggeroepen.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-173">A suspended transaction is recalled.</span></span>
- <span data-ttu-id="7e8b1-174">Een verkoop- of retourtransactie wordt voltooid.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-174">A sales or return transaction is finalized.</span></span>

<span data-ttu-id="7e8b1-175">Als de statuscontrole mislukt, toont het POS het dialoogvenster voor statuscontrole.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-175">If the health check fails, the POS shows the health check dialog box.</span></span> <span data-ttu-id="7e8b1-176">Dit dialoogvenster bevat de volgende knoppen:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-176">This dialog box provides the following buttons:</span></span>

- <span data-ttu-id="7e8b1-177">**OK**: met deze knop kan de operator een statuscontrolefout negeren en doorgaan met de bewerking.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-177">**OK** – This button lets the operator ignore a health check error and continue to process the operation.</span></span> <span data-ttu-id="7e8b1-178">Operators kunnen deze knop alleen selecteren als de machtiging **Overslaan van statuscontrolefout toestaan** ervoor is ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-178">Operators can select this button only if the **Allow skip health check error** permission is enabled for them.</span></span>
- <span data-ttu-id="7e8b1-179">**Annuleren**: als de operator deze knop selecteert, annuleert het POS de laatste actie (een artikel wordt bijvoorbeeld niet toegevoegd aan een nieuwe transactie).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-179">**Cancel** – If the operator selects this button, the POS cancels the last action (for example, an item isn't added to a new transaction).</span></span>

> [!NOTE]
> <span data-ttu-id="7e8b1-180">De statuscontrole wordt alleen uitgevoerd als voor de huidige bewerking fiscale registratie is vereist en als de parameter **Doorgaan bij fout** is uitgeschakeld voor de huidige stap van het proces voor fiscale registratie.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-180">The health check is run only if the current operation requires fiscal registration, and if  the **Continue on error** parameter is disabled for the current step of the fiscal registration process.</span></span> <span data-ttu-id="7e8b1-181">Zie voor meer informatie [Instellingen voor het verwerken van fouten kiezen](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-181">For more details, see [Set error handling settings](setting-up-fiscal-integration-for-retail-channel.md#set-error-handling-settings).</span></span>

## <a name="storing-fiscal-response-in-fiscal-transaction"></a><span data-ttu-id="7e8b1-182">Fiscaal antwoord opslaan in fiscale transactie</span><span class="sxs-lookup"><span data-stu-id="7e8b1-182">Storing fiscal response in fiscal transaction</span></span>

<span data-ttu-id="7e8b1-183">Wanneer fiscale registratie van een transactie of gebeurtenis geslaagd is, wordt een fiscale transactie in de afzetkanaaldatabase gemaakt en gekoppeld aan de oorspronkelijke transactie of gebeurtenis.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-183">When fiscal registration of a transaction or event is successful, a fiscal transaction is created in the channel database and linked to the original transaction or event.</span></span> <span data-ttu-id="7e8b1-184">Als de optie **Overslaan** of **Markeren als geregistreerd** wordt geselecteerd voor een mislukte fiscale registratie, wordt deze informatie ook opgeslagen in een fiscale transactie.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-184">Similarly, if the **Skip** or **Mark as registered** option is selected for a failed fiscal registration, this information is stored in a fiscal transaction.</span></span> <span data-ttu-id="7e8b1-185">Een fiscale transactie bevat de fiscale reactie van het fiscale apparaat of de service.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-185">A fiscal transaction holds the fiscal response of the fiscal device or service.</span></span> <span data-ttu-id="7e8b1-186">Als het fiscale registratieproces uit meerdere stappen bestaat, wordt een fiscale transactie gemaakt voor elke stap van het proces dat heeft geleid tot een geslaagde of mislukte registratie.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-186">If the fiscal registration process consists of several steps, a fiscal transaction is created for each step of the process that resulted in a successful or failed registration.</span></span>

<span data-ttu-id="7e8b1-187">Fiscale transacties worden overgeboekt naar Retail Headquarters door de *P-taak* samen met detailhandeltransacties.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-187">Fiscal transactions are transferred to Retail Headquarters by the *P-job*, together with retail transactions.</span></span> <span data-ttu-id="7e8b1-188">Op het sneltabblad **Fiscale transacties** van de pagina **Transacties detailhandelwinkel** kunt u de fiscale transacties weergeven die zijn gekoppeld aan detailhandeltransacties.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-188">On the **Fiscal transactions** FastTab of the **Retail store transactions** page, you can view the fiscal transactions that are linked to retail transactions.</span></span>

<span data-ttu-id="7e8b1-189">Een fiscale transactie wordt opgeslagen met de volgende gegevens:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-189">A fiscal transaction stores the following details:</span></span>

- <span data-ttu-id="7e8b1-190">Details van fiscaal registratieproces (proces, connectorgroep, connector, enzovoort).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-190">Fiscal registration process details (process, connector group, connector, and so on).</span></span> <span data-ttu-id="7e8b1-191">Slaat ook het serienummer van het fiscale apparaat op in het veld **Kassanummer** als deze informatie is opgenomen in het fiscale antwoord.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-191">It also stores the serial number of the fiscal device in the **Register number** field, if this information is included in the fiscal response.</span></span>
- <span data-ttu-id="7e8b1-192">De status van de fiscale registratie: **Voltooid** voor succesvolle registratie, **Overgeslagen** als de operator de optie **Overslaan** heeft geselecteerd voor een mislukte registratie of **Gemarkeerd als geregistreerd** als de operator de optie **Markeren als geregistreerd** heeft geregistreerd.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-192">The status of the fiscal registration: **Completed** for successful registration, **Skipped** if the operator selected the **Skip** option for a failed registration, or **Marked as registered** if the operator selected the **Mark as registered** option.</span></span>
- <span data-ttu-id="7e8b1-193">Infocodetransacties weergeven die zijn gekoppeld aan een geselecteerde fiscale transactie.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-193">Info code transactions that are related to a selected fiscal transaction.</span></span> <span data-ttu-id="7e8b1-194">Als u de infocodetransacties wilt weergeven, selecteert u op het sneltabblad **Fiscale transacties** een fiscale transactie met de status **Overgeslagen** of **Gemarkeerd als geregistreerd** en selecteert u vervolgens **Informatiecodetransacties**.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-194">To view the info code transactions, on the **Fiscal transactions** FastTab, select a fiscal transaction that has a status of **Skipped** or **Marked as registered**, and then select **Info code transactions**.</span></span>

## <a name="fiscal-texts-for-discounts"></a><span data-ttu-id="7e8b1-195">Fiscale teksten voor kortingen</span><span class="sxs-lookup"><span data-stu-id="7e8b1-195">Fiscal texts for discounts</span></span>

<span data-ttu-id="7e8b1-196">Sommige landen of regio's hebben speciale vereisten over aanvullende tekst die moeten worden afgedrukt op fiscale ontvangsten wanneer verschillende soorten kortingen worden toegepast.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-196">Some countries or regions have special requirements about additional texts that must be printed on fiscal receipts when different kinds of discounts are applied.</span></span> <span data-ttu-id="7e8b1-197">Met de fiscale integratiefunctionaliteit kunt u een speciale tekst instellen voor een korting die wordt afgedrukt na een kortingsregel in een fiscaal ontvangstbewijs.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-197">The fiscal integration functionality lets you set up a special text for a discount that is printed after a discount line on a fiscal receipt.</span></span> <span data-ttu-id="7e8b1-198">Voor handmatige kortingen kunt u een fiscale tekst voor de informatiecode configureren die wordt opgegeven als de **Productkorting**-infocode in het POS-functionaliteitsprofiel.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-198">For manual discounts, you can configure a fiscal text for the info code that is specified as the **Product discount** info code in the POS functionality profile.</span></span> <span data-ttu-id="7e8b1-199">Zie voor meer informatie over het instellen van fiscale teksten voor kortingen [Fiscale teksten voor kortingen instellen](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-199">For more details about how to set up fiscal texts for discounts, see [Set up fiscal texts for discounts](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-texts-for-discounts).</span></span>

## <a name="printing-fiscal-x-and-fiscal-z-reports"></a><span data-ttu-id="7e8b1-200">Fiscale X- en fiscale Z-rapporten afdrukken</span><span class="sxs-lookup"><span data-stu-id="7e8b1-200">Printing fiscal X and fiscal Z reports</span></span>

<span data-ttu-id="7e8b1-201">De functionaliteit voor fiscale integratie ondersteunt het genereren van eindedagoverzichten die specifiek zijn voor het geïntegreerde fiscale apparaat of service:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-201">Fiscal integration functionality supports generation of end-of-day statements that are specific to the integrated fiscal device or service:</span></span>

- <span data-ttu-id="7e8b1-202">Nieuwe knoppen die corresponderende bewerkingen uitvoeren, moeten worden toegevoegd aan de POS-schermindeling.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-202">New buttons that run corresponding operations should be added to the POS screen layout.</span></span> <span data-ttu-id="7e8b1-203">Zie voor meer informatie [X/Z-rapporten instellen vanaf het POS](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span><span class="sxs-lookup"><span data-stu-id="7e8b1-203">For more details, see [Set up fiscal X/Z reports from the POS](setting-up-fiscal-integration-for-retail-channel.md#set-up-fiscal-xz-reports-from-the-pos).</span></span>
- <span data-ttu-id="7e8b1-204">In het fiscale integratievoorbeeld moeten deze bewerkingen worden vergeleken met de bijbehorende bewerkingen van het fiscale apparaat.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-204">In the fiscal integration sample, these operations should be matched to the corresponding operations of the fiscal device.</span></span>

## <a name="fiscal-integration-samples-in-the-retail-sdk"></a><span data-ttu-id="7e8b1-205">Fiscale integratievoorbeelden in de Retail-SDK</span><span class="sxs-lookup"><span data-stu-id="7e8b1-205">Fiscal integration samples in the Retail SDK</span></span>

<span data-ttu-id="7e8b1-206">De volgende fiscale integratievoorbeelden zijn momenteel beschikbaar in de Retail-SDK:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-206">The following fiscal integration samples are currently available in the Retail SDK:</span></span>

- [<span data-ttu-id="7e8b1-207">Voorbeeld van integratie van fiscale printer voor Italië</span><span class="sxs-lookup"><span data-stu-id="7e8b1-207">Fiscal printer integration sample for Italy</span></span>](emea-ita-fpi-sample.md)
- [<span data-ttu-id="7e8b1-208">Voorbeeld van integratie van fiscale printer voor Polen</span><span class="sxs-lookup"><span data-stu-id="7e8b1-208">Fiscal printer integration sample for Poland</span></span>](emea-pol-fpi-sample.md)
- [<span data-ttu-id="7e8b1-209">Voorbeeld van integratie van fiscale registratieservice voor Oostenrijk</span><span class="sxs-lookup"><span data-stu-id="7e8b1-209">Fiscal registration service integration sample for Austria</span></span>](emea-aut-fi-sample.md)
- [<span data-ttu-id="7e8b1-210">Voorbeeld van integratie van fiscale registratieservice voor Tsjechië</span><span class="sxs-lookup"><span data-stu-id="7e8b1-210">Fiscal registration service integration sample for Czech Republic</span></span>](emea-cze-fi-sample.md)
- [<span data-ttu-id="7e8b1-211">Regeleenheidintegratievoorbeeld voor Zweden</span><span class="sxs-lookup"><span data-stu-id="7e8b1-211">Control unit integration sample for Sweden</span></span>](./emea-swe-fi-sample.md)

<span data-ttu-id="7e8b1-212">De volgende fiscale Integratiefunctionaliteit is ook beschikbaar in de Retail-SDK, maar maakt op het moment geen gebruik van het fiscale integratieraamwerk.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-212">The following fiscal integration functionality is also available in the Retail SDK but doesn't currently take advantage of the fiscal integration framework.</span></span> <span data-ttu-id="7e8b1-213">Migratie van deze functionaliteit naar het fiscale integratieraamwerk is gepland voor latere updates.</span><span class="sxs-lookup"><span data-stu-id="7e8b1-213">Migration of this functionality to the fiscal integration framework is planned for later updates.</span></span>


- [<span data-ttu-id="7e8b1-214">Digitale handtekening voor Frankrijk</span><span class="sxs-lookup"><span data-stu-id="7e8b1-214">Digital signature for France</span></span>](emea-fra-cash-registers.md)
- [<span data-ttu-id="7e8b1-215">Digitale handtekening voor Noorwegen</span><span class="sxs-lookup"><span data-stu-id="7e8b1-215">Digital signature for Norway</span></span>](emea-nor-cash-registers.md)

<span data-ttu-id="7e8b1-216">De volgende verouderde functionaliteit voor fiscale integratie die beschikbaar is in Retail SDK maakt geen gebruik van het raamwerk voor fiscale integratie en wordt afgeschaft in latere updates:</span><span class="sxs-lookup"><span data-stu-id="7e8b1-216">The following legacy fiscal integration functionality that is available in Retail SDK does not use the fiscal integration framework and will be deprecated in later updates:</span></span>

- [<span data-ttu-id="7e8b1-217">Regeleenheidintegratievoorbeeld voor Zweden (verouderd)</span><span class="sxs-lookup"><span data-stu-id="7e8b1-217">Control unit integration sample for Sweden (legacy)</span></span>](./retail-sdk-control-unit-sample.md)
